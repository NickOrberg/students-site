# Коллекции

Коллекции позволяют хранить несколько
значений одного типа. Отличие от массивов:
1. В коллекциях больше возможностей:
    можно вставлять, удалять элементы
    и многое другое.
1. Хранить можно только значения объектных
типов. Т.е. невозможно создать коллекцию
для типа, например, `int`. Если числа
все-таки надо хранить, то храниться они
будут в типе `Integer`.
1. Массивы встроены в язык синтаксически
(операция взятия индекса с помощью
квадратных скобок)
1. Массивы часто эффективней коллекций.

Старайтесь не смешивать в программе
массивы и коллекции.

# Как создать коллекцию?
Коллекции бывают разных видов, самые
распространные - это List и Set (списки
и множества). Что это значит, см. далее.

`List<Integer>` - тип, коллекция, точнее,
список `Integer`.

`Set<String>` - множество строк.

`List<Path>` - список путей к файлам.

Обратим внимание на угловые скобки. В Java
можно написать просто тип `List`, но лучше
этого не делать. Всегда в угловых скобках
указывайте, какой тип хранится в списке.

Если вы забудете указать тип в угловых
скобках, вы увидите предупреждения
"Unchecked cast/...".

# Списки и множества
В списках элементы упорядочены, можно
определять, какой элемент первый, второй,
какой последний.
В множествах не может храниться двух одинаковых элементов.
В множествах порядка нет. При переборе
множества элементы могут идти в произвольном
порядке. Обычно, во множествах хорошо
работает операция проверки на принадлежность.

# Создание коллекций
1. Функция List.of или Set.of
    ```
    List<Integer> l1 = List.of(1, 2, 3);
    Set<String> s1 = Set.of("abc", "xy");
    ```
    
    они создают коллекцию из указанных
    элементов. (В Python `l1 = [1, 2, 3]` и 
    `s1 = {"abc", "xy"}`).
    
    Этот метод создает неизменяемые коллекции,
    в них невозможно ничего добавить,
    нельзя ничего удалить.
    
1. Явное создание:
    ```
    List<Integer> l2 = new ArrayList<Integer>();
    Set<String> s2 = new HashSet<String>();
    ```    
    При создании указываем конкретный тип списка или 
    множества, который мы хотим. Бывает ArrayList, LinkedList,
    ..., LinkedHashSet, ...
    
    Типы списков и множеств отличаются реализацией, соответственно,
    скоростью работы.
    
    Как укоротить создание списка:
    
    ```
    //можно справа не писать содержимое угловых скобок
    List<Integer> l2 = new ArrayList<>();
    Set<String> s2 = new HashSet<>();
    ```
    
    Или
    
    ```
    //можно писать var:
    var l2 = new ArrayList<Integer>();
    var s2 = new HashSet<String>();
    ```
    
## Действия с коллекциями

### действия для любых коллекций

[Полный список действий](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html)

1. `l1.add(42)`, `s1.add("abc")` - добавить элемент.
У списков это добавление в конец.

1. `l1.addAll(s2)` - добавить в одну коллекцию все элементы
другой.

1. `l1.contains(42)` - проверка, есть ли элемент в коллекции.
Для множеств эта операция обычно работает быстро.

1. `l1.clear()` - очистить.

1. `l1.remove(42)` - удалить определенный элемент

1. Цикл перебора элементов коллекции: 
    ```
    for (int x : l1)
        System.out.println(x);
    ```

    Заведена переменная x того же типа, что и содержимое 
    коллекции. Ей последовательно присваиваются все элементы
    коллекции. Для списка порядок перебора совпадает с порядком
    элементов.
    
    Для множеств.
    * Если это `HashSet`, то порядок перебора произвольный.
    Это множество надо использовать, если вам нужно просто
    множество.
    * `TreeSet`, то порядок перебора - по возрастанию.
    * `LinkedHashSet`, то порядок перебора совпадает с порядком
    добавления.
    
      
    